{"version":3,"sources":["components/Card.js","components/Welcome.js","helpers.js","components/Dish.js","components/Menu.js","components/Order.js","components/AddDishForm.js","components/EditDishForm.js","components/Login.js","base.js","components/Inventory.js","sample-dishes.js","components/App.js","components/NotFound.js","components/Router.js","index.js"],"names":["Card","handleClick","_this","props","history","push","react_default","a","createElement","className","onClick","this","React","Component","Welcome","components_Card","formatPrice","cents","toLocaleString","style","currency","Dish","isAvailable","details","status","src","image","alt","name","price","description","disabled","addToOrder","index","Menu","Object","keys","dishes","map","key","components_Dish","Order","renderOrder","dish","count","order","react_transition_group","classNames","timeout","enter","exit","component","removeFromOrder","_this2","orderKeys","total","reduce","sum","current","alert","AddDishForm","state","valid","nameRef","createRef","priceRef","statusRef","descriptionRef","imageRef","createDish","event","preventDefault","value","search","Number","setState","addDish","onSubmit","type","placeholder","ref","id","EditDishForm","deleteDish","handleChange","changedValue","currentTarget","isNaN","updateDish","onChange","Login","authenticate","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","base","Rebase","createClass","database","Inventory","signedIn","uid","_callee","regenerator_default","wrap","_context","prev","next","auth","signInAnonymously","stop","logOut","_callee2","_context2","signOut","onAuthStateChanged","user","_this3","components_EditDishForm","components_AddDishForm","loadSampleDishes","components_Login","sampleDishes","dish1","dish2","dish3","dish4","dish5","App","newDish","objectSpread","concat","Date","now","localStorageRef","localStorage","getItem","JSON","parse","syncState","match","params","store","context","setItem","stringify","removeBinding","components_Menu","components_Order","components_Inventory","NotFound","Router","BrowserRouter","Switch","Route","exact","path","ReactDOM","render","components_Router","document","getElementById"],"mappings":"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","file":"static/js/main.ae1c0153.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Card extends React.Component {\r\n  static propTypes = {\r\n    history: PropTypes.object,\r\n  };\r\n\r\n  handleClick = () => {\r\n    this.props.history.push('/store');\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"card\" onClick={this.handleClick}>\r\n          <div className=\"card__picture\"></div>\r\n          <span className=\"card__caption\">Посмотреть меню</span>\r\n          <p className=\"card__caption\">Сделать заказ</p>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Welcome(props) {\r\n  return (\r\n      <div className=\"page-wrapper\">\r\n        <Card history={props.history}/>\r\n      </div>\r\n  )\r\n}\r\n\r\nWelcome.propTypes = {\r\n  history: PropTypes.object\r\n};\r\n\r\nexport default Welcome;","function formatPrice(cents) {\r\n  return (cents / 100).toLocaleString(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\"\r\n  });\r\n}\r\n\r\nexport {formatPrice};","import React from 'react';\r\nimport {formatPrice} from '../helpers';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Dish extends React.Component {\r\n  static propTypes = {\r\n    addToOrder: PropTypes.func,\r\n    index: PropTypes.string,\r\n    details: PropTypes.shape({\r\n      status: PropTypes.string,\r\n      image: PropTypes.string,\r\n      name: PropTypes.string,\r\n      price: PropTypes.number,\r\n      description: PropTypes.string,\r\n    })\r\n  };\r\n\r\n  render() {\r\n    const isAvailable = this.props.details.status === 'available';\r\n    return (\r\n        <li className=\"dish\">\r\n          <img className=\"dish-image\" src={this.props.details.image} alt={this.props.details.image}/>\r\n          <h3 className=\"dish-header\">\r\n            {this.props.details.name}\r\n            <span className=\"dish-price\">{formatPrice(this.props.details.price)}</span>\r\n          </h3>\r\n          <p className=\"dish-description\">{this.props.details.description}</p>\r\n          <button disabled={!isAvailable} className=\"dish-addButton\" onClick={() => this.props.addToOrder(this.props.index)}>\r\n            {(isAvailable)?'Добавить в заказ':'Распродано'}\r\n          </button>\r\n        </li>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Dish;","import React from 'react';\r\nimport Dish from './Dish';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Menu extends React.Component {\r\n  static propTypes = {\r\n    dishes: PropTypes.object,\r\n    addToOrder: PropTypes.func,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"store-division dishes\">\r\n          <h2 className=\"store-division__header\">Меню</h2>\r\n          <ul>\r\n            {Object.keys(this.props.dishes).map(key => <Dish key={key} index={key} details={this.props.dishes[key]} addToOrder={this.props.addToOrder}/>)}\r\n          </ul>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Menu;","import React from 'react';\r\nimport {formatPrice} from '../helpers';\r\nimport {TransitionGroup, CSSTransition} from 'react-transition-group';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Order extends React.Component {\r\n  static propTypes = {\r\n    dishes: PropTypes.object,\r\n    order: PropTypes.object,\r\n    removeFromOrder: PropTypes.func,\r\n  };\r\n\r\n  renderOrder = key => {\r\n    const dish = this.props.dishes[key];\r\n    const count = this.props.order[key];\r\n    if (!dish || this.props.dishes[key].status === 'unavailable') {\r\n      return null;\r\n    }\r\n    return (\r\n        <CSSTransition classNames=\"order__item\" key={key} timeout={{enter:250, exit:250}}>\r\n          <li key={key} className=\"order__item\">\r\n            <TransitionGroup component=\"span\" className=\"order__count-wrapper\">\r\n              <CSSTransition classNames=\"order__count\" key={count} timeout={{enter:300, exit:300}}>\r\n                <span className=\"order__count\">{count}</span>\r\n              </CSSTransition>\r\n            </TransitionGroup>\r\n            {dish.name}\r\n            <span className=\"order__price\">{formatPrice(dish.price)}</span>\r\n            <button className=\"order__delete\" onClick={() => this.props.removeFromOrder(key)}>&times;</button>\r\n          </li>\r\n        </CSSTransition>\r\n    )\r\n  };\r\n\r\n  render() {\r\n    const orderKeys = Object.keys(this.props.order);\r\n    const orderPrices = orderKeys.map((key) => {\r\n      if (!this.props.dishes[key] || this.props.dishes[key].status === 'unavailable') {\r\n        return 0;\r\n      }\r\n      return this.props.dishes[key].price*this.props.order[key];\r\n    });\r\n    const total = orderPrices.reduce((sum, current) => sum + current , 0);\r\n    return (\r\n        <div className=\"store-division order\">\r\n          <h2 className=\"store-division__header\">Заказ</h2>\r\n          <TransitionGroup component=\"ul\">\r\n            {orderKeys.map(this.renderOrder)}\r\n          </TransitionGroup>\r\n          <strong className=\"order__total\">Итого: {formatPrice(total)}</strong><br/>\r\n          <button className=\"order__confirm\" onClick={()=> alert('to be continued...')}>Оформить заказ</button>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Order;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass AddDishForm extends React.Component {\r\n  static propTypes = {\r\n    addDish: PropTypes.func,\r\n  };\r\n\r\n  state = {\r\n    valid: true,\r\n  };\r\n\r\n  nameRef = React.createRef();\r\n  priceRef = React.createRef();\r\n  statusRef = React.createRef();\r\n  descriptionRef = React.createRef();\r\n  imageRef = React.createRef();\r\n\r\n  createDish = (event) => {\r\n    event.preventDefault();\r\n    if (this.priceRef.current.value.search(/\\D/) !== -1) {\r\n      this.setState({valid: false});\r\n      return\r\n    }\r\n    const dish = {\r\n      name: this.nameRef.current.value,\r\n      price: Number(this.priceRef.current.value),\r\n      status: this.statusRef.current.value,\r\n      description: this.descriptionRef.current.value,\r\n      image: this.imageRef.current.value,\r\n    };\r\n    this.setState({valid: true});\r\n    this.props.addDish(dish);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <form className=\"addDishForm\" onSubmit={this.createDish}>\r\n          {!this.state.valid&&<div className=\"addDishForm__prompt\">Поле цена должно содержать только цифры!</div>}\r\n          <input className=\"addDishForm__input--small\" type=\"text\" placeholder=\"название\" ref={this.nameRef}/>\r\n          <input className=\"addDishForm__input--small\" type=\"text\" placeholder=\"цена\" ref={this.priceRef}/>\r\n          <select className=\"addDishForm__select\" name=\"status\" id=\"\" ref={this.statusRef}>\r\n            <option value=\"available\">В наличии</option>\r\n            <option value=\"unavailable\">Нет в наличии</option>\r\n          </select>\r\n          <textarea className=\"addDishForm__textarea\" name=\"description\" id=\"\" placeholder=\"описание\" ref={this.descriptionRef}></textarea>\r\n          <input className=\"addDishForm__input--big\" type=\"text\" placeholder=\"фото\" ref={this.imageRef}/>\r\n          <button className=\"addDishForm__button--big\">+ добавить блюдо</button>\r\n        </form>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nexport default AddDishForm;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass EditDishForm extends React.Component {\r\n  static propTypes = {\r\n    deleteDish: PropTypes.func,\r\n    index: PropTypes.string,\r\n    updateDish: PropTypes.func,\r\n    dishes: PropTypes.object,\r\n  };\r\n\r\n  deleteDish = (event) => {\r\n    event.preventDefault();\r\n    this.props.deleteDish(this.props.index);\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    let changedValue;\r\n    if (event.currentTarget.name === 'price') {\r\n      changedValue = Number(event.currentTarget.value);\r\n      if (isNaN(changedValue)) {\r\n        return\r\n      }\r\n    } else {\r\n      changedValue = event.currentTarget.value\r\n    }\r\n    const dish = this.props.dishes[this.props.index];\r\n    dish[event.currentTarget.name] = changedValue;\r\n    this.props.updateDish(dish, this.props.index)\r\n  };\r\n\r\n  render() {\r\n    const dish = this.props.dishes[this.props.index];\r\n    return (\r\n        <form className=\"addDishForm\" onSubmit={this.deleteDish}>\r\n          <input className=\"addDishForm__input--small\" type=\"text\" name=\"name\" placeholder=\"название\" value={dish.name} onChange={this.handleChange}/>\r\n          <input className=\"addDishForm__input--small\" type=\"text\" name=\"price\" placeholder=\"цена\" value={dish.price} onChange={this.handleChange}/>\r\n          <select className=\"addDishForm__select\" name=\"status\" id=\"\" value={dish.status} onChange={this.handleChange}>\r\n            <option value=\"available\">В наличии</option>\r\n            <option value=\"unavailable\">Нет в наличии</option>\r\n          </select>\r\n          <textarea className=\"addDishForm__textarea\" name=\"description\" id=\"\" placeholder=\"описание\" value={dish.description} onChange={this.handleChange}></textarea>\r\n          <input className=\"addDishForm__input--big\" type=\"text\" placeholder=\"фото\" name=\"image\" value={dish.image} onChange={this.handleChange}/>\r\n          <button className=\"addDishForm__button--big\">удалить блюдо</button>\r\n        </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditDishForm;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Login(props) {\r\n  return (\r\n      <div className=\"store-division inventory\">\r\n        <h2 className=\"store-division__header\">Инвентаризация</h2>\r\n        <p className=\"login__paragraph\">Войдите, чтобы управлять магазином:</p>\r\n        <button className=\"login__button\" onClick={props.authenticate}>Войти анонимно</button>\r\n      </div>\r\n  );\r\n}\r\n\r\nLogin.propTypes = {\r\n  authenticate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Login;","import Rebase from 're-base';\r\nimport firebase from 'firebase';\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyCuQxB34izRPWRa_nCvV98DmkRv3gGFZzw\",\r\n  authDomain: \"pizza-store-chernetsky.firebaseapp.com\",\r\n  databaseURL: \"https://pizza-store-chernetsky.firebaseio.com\",\r\n});\r\n\r\nconst base = Rebase.createClass(firebaseApp.database());\r\n\r\nexport { firebaseApp };\r\n\r\nexport default base;","import React from 'react';\r\nimport AddDishForm from './AddDishForm';\r\nimport EditDishForm from './EditDishForm';\r\nimport PropTypes from 'prop-types';\r\nimport Login from './Login';\r\nimport firebase from \"firebase\";\r\nimport {firebaseApp} from \"../base\";\r\n\r\nclass Inventory extends React.Component {\r\n  static propTypes = {\r\n    dishes: PropTypes.object,\r\n    deleteDish: PropTypes.func,\r\n    updateDish: PropTypes.func,\r\n    loadSampleDishes: PropTypes.func,\r\n  };\r\n\r\n  state = {\r\n    signedIn: false,\r\n    uid: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    firebaseApp.auth().onAuthStateChanged( user => {\r\n      if (user) {\r\n        this.setState({signedIn: true, uid: user.uid})\r\n      }\r\n    });\r\n  }\r\n\r\n  authenticate = async () => {\r\n    await firebaseApp.auth().signInAnonymously();\r\n  };\r\n\r\n  logOut = async () => {\r\n    await firebase.auth().signOut();\r\n    this.setState({signedIn: false, uid: null});\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.signedIn) {\r\n      return <Login authenticate={this.authenticate}/>;\r\n    }\r\n    return (\r\n        <div className=\"store-division inventory\">\r\n          <h2 className=\"store-division__header\">Инвентаризация</h2>\r\n          <button className=\"logout__button\" onClick={this.logOut}>Выйти</button>\r\n          {Object.keys(this.props.dishes).map(key =>\r\n              <EditDishForm key={key} index={key} dishes={this.props.dishes} deleteDish={this.props.deleteDish} updateDish={this.props.updateDish}/>)}\r\n          <AddDishForm addDish={this.props.addDish}/>\r\n          <button className=\"load__button\" onClick={this.props.loadSampleDishes}>Загрузить шаблонные блюда</button>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Inventory;","const sampleDishes = {\r\n  dish1: {\r\n    name: \"Пепперони\",\r\n    image: \"./images/sample-pizza/sample-pizza1.jpg\",\r\n    description:\r\n        \"Салями, сыр Моцарелла, соус, специи.\",\r\n    price: 1724,\r\n    status: \"available\"\r\n  },\r\n\r\n  dish2: {\r\n    name: \"Мясная\",\r\n    image: \"./images/sample-pizza/sample-pizza2.jpg\",\r\n    description:\r\n        \"Свинина, говядина, курица запеченная, курица копченая, карамельный лук, помидор, бастурма, сыр Моцарелла, соус.\",\r\n    price: 1200,\r\n    status: \"available\"\r\n  },\r\n\r\n  dish3: {\r\n    name: \"Овощная\",\r\n    image: \"./images/sample-pizza/sample-pizza3.jpg\",\r\n    description:\r\n        \"Баклажан, цукини, перец сладкий, лук красный, шампиньоны, руккола, соус Терияки, сыр Моцарелла, специи.\",\r\n    price: 1684,\r\n    status: \"unavailable\"\r\n  },\r\n\r\n  dish4: {\r\n    name: \"Грибная\",\r\n    image: \"./images/sample-pizza/sample-pizza4.jpg\",\r\n    description:\r\n        \"Филе куриное запеченное, шампиньон, лук репчатый, сливки, соус Сметанный, сыр Моцарелла, специи, зелень. \",\r\n    price: 1129,\r\n    status: \"available\"\r\n  },\r\n\r\n  dish5: {\r\n    name: \"С вяленой говядиной\",\r\n    image: \"./images/sample-pizza/sample-pizza5.jpg\",\r\n    description:\r\n        \"Вяленая говядина, грудинка, шампиньоны, соус Горчичный, руккола, помидоры черри, сыр Моцарелла, специи.\",\r\n    price: 2234,\r\n    status: \"available\"\r\n  },\r\n\r\n};\r\n\r\nexport default sampleDishes;","import React from 'react';\r\nimport Menu from './Menu';\r\nimport Order from './Order';\r\nimport Inventory from './Inventory';\r\nimport sampleDishes from '../sample-dishes';\r\nimport base from '../base';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    dishes: {},\r\n    order: {}\r\n  };\r\n\r\n  updateDish = (newDish, index) => {\r\n    const dishes = {...this.state.dishes};\r\n    dishes[index] = newDish;\r\n    this.setState({dishes})\r\n  };\r\n\r\n  addDish = dish => {\r\n    const dishes = { ...this.state.dishes };\r\n    dishes[`dish${Date.now()}`] = dish;\r\n    this.setState({dishes});\r\n  };\r\n\r\n  deleteDish = dish => {\r\n    const dishes = {...this.state.dishes};\r\n    /*delete dishes[dish];*/\r\n    dishes[dish] = null; // it is the feature of the firebase, simple delete dishes[dish] doesn't work with firebase!!!\r\n    this.setState({dishes});\r\n  };\r\n\r\n  addToOrder = key => {\r\n    const order = {...this.state.order};\r\n    order[key] = order[key] + 1 || 1 ;\r\n    this.setState({order});\r\n  };\r\n\r\n  removeFromOrder = key => {\r\n    const order = {...this.state.order};\r\n    delete order[key];\r\n    this.setState({order});\r\n  };\r\n\r\n  componentDidMount() {\r\n    const localStorageRef = localStorage.getItem('pizza-store-order');\r\n    if (localStorageRef) {\r\n      this.setState({order: JSON.parse(localStorageRef)});\r\n    }\r\n\r\n    this.ref = base.syncState(`${this.props.match.params.store}/dishes`, {\r\n      context: this,\r\n      state: \"dishes\"\r\n    });\r\n  };\r\n\r\n  loadSampleDishes = () => {\r\n    this.setState({dishes: sampleDishes});\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    localStorage.setItem('pizza-store-order', JSON.stringify(this.state.order));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    base.removeBinding(this.ref);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"page-wrapper\">\r\n          <div className=\"store-wrapper\">\r\n            <Menu dishes={this.state.dishes} addToOrder={this.addToOrder}/>\r\n            <Order order={this.state.order} dishes={this.state.dishes} removeFromOrder={this.removeFromOrder}/>\r\n            <Inventory addDish={this.addDish} dishes={this.state.dishes} deleteDish={this.deleteDish} updateDish={this.updateDish} loadSampleDishes={this.loadSampleDishes}/>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\n\r\nfunction NotFound() {\r\n  return (\r\n      <div>Not found!</div>\r\n  )\r\n}\r\n\r\nexport default NotFound;","import React from 'react';\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\nimport Welcome from './Welcome';\nimport App from './App';\nimport NotFound from './NotFound';\n\nfunction Router() {\n  return (\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Welcome}/>\n          <Route path=\"/:store\" component={App}/>\n          <Route component={NotFound}/>\n        </Switch>\n      </BrowserRouter>\n  )\n}\n\nexport default Router;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Router from './components/Router';\r\nimport './css/style.css';\r\n\r\nReactDOM.render(<Router/>, document.getElementById('main'));"],"sourceRoot":""}